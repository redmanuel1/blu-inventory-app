@if(user){
<div class="container-fluid mt--7">
  <div class="row">
    <!-- Uncomment if you want to still add the summarize profile -->
    <!-- <div class="col-xl-8 order-xl-1">-->
    <div class="col">
      <div class="card bg-secondary shadow">
        <div class="card-header bg-white border-0">
          <div class="row align-items-center">
            <div class="col-8">
              <h3 class="mb-0">My account</h3>
            </div>
            <!-- <div class="col-4 text-right">
              <a href="#!" class="btn btn-sm btn-primary">Settings</a>
            </div> -->
          </div>
        </div>
        <div class="card-body">
          <form
            #userProfileForm="ngForm"
            (ngSubmit)="onSubmit(userProfileForm)"
          >
            <h6 class="heading-small text-muted mb-4">User information</h6>
            <div class="pl-lg-4">
              <div class="row">
                <div class="col">
                  <div class="form-group">
                    <label class="form-control-label" for="input-id-number"
                      >ID Number</label
                    >
                    <input
                      type="text"
                      id="input-id-number"
                      [disabled]="true"
                      class="form-control form-control-alternative"
                      name="idNo"
                      placeholder="ID Number"
                      [(ngModel)]="user.idNo"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label" for="input-first-name"
                      >First name</label
                    >
                    <input
                      type="text"
                      id="input-first-name"
                      class="form-control form-control-alternative"
                      name="firstName"
                      placeholder="First name"
                      [(ngModel)]="user.firstName"
                    />
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label" for="input-last-name"
                      >Last name</label
                    >
                    <input
                      type="text"
                      id="input-last-name"
                      class="form-control form-control-alternative"
                      name="lastName"
                      placeholder="Last name"
                      [(ngModel)]="user.lastName"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label" for="input-email"
                      >Email address</label
                    >
                    <input
                      type="email"
                      id="input-email"
                      class="form-control form-control-alternative"
                      name="email"
                      placeholder="jesse@example.com"
                      [(ngModel)]="user.email"
                    />
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label" for="input-phoneNumber"
                      >Phone Number</label
                    >
                    <input
                      type="text"
                      id="input-phoneNumber"
                      class="form-control form-control-alternative"
                      name="phoneNumber"
                      placeholder="Phone Number"
                      [(ngModel)]="user.phone"
                    />
                  </div>
                </div>
              </div>
              @if(isChangePassword) {
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label" for="input-password"
                      >Password</label
                    >
                    <input
                      type="password"
                      id="input-password"
                      class="form-control form-control-alternative"
                      name="password"
                      placeholder="Password"
                      [(ngModel)]="password"
                      pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$"
                      #passwordInput="ngModel"
                    />
                    <div
                      *ngIf="userProfileForm.submitted && passwordInput.invalid"
                      class="text-danger"
                    >
                      <small *ngIf="passwordInput.errors?.pattern"
                        >Password must contain at least 8 characters long with
                        at least one uppercase letter, one lowercase letter, one
                        number and one special character</small
                      >
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label
                      class="form-control-label"
                      for="input-confirm-password"
                      >Confirm Password</label
                    >
                    <input
                      type="password"
                      id="input-confirm-password"
                      class="form-control form-control-alternative"
                      name="confirmPassword"
                      placeholder="Confirm Password"
                      [(ngModel)]="confirmPassword"
                    />
                  </div>
                </div>
              </div>
              }
              <div class="row">
                <div class="col-lg-10">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    (click)="onChangePassword()"
                  >
                    Change Password
                  </button>
                </div>
                <div class="col-lg-2" align="right">
                  <button type="submit" class="btn btn-primary">Save</button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
}
